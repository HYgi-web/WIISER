<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>CV Builder</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Arial', sans-serif;
    }

    body {
      background-color: #f5f5f5;
      color: #333;
      line-height: 1.6;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
    }

    .navbar {
      background-color: #4169e1;
      padding: 15px 0;
      color: white;
    }

    .navbar .container {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .logo {
      font-size: 1.8rem;
      font-weight: bold;
    }

    .logo span {
      color: #ffa500;
    }

    .nav-links {
      display: flex;
      list-style: none;
    }

    .nav-links li {
      margin-left: 20px;
    }

    .nav-links a {
      color: white;
      text-decoration: none;
      font-weight: 500;
    }

    .hero {
      background-color: #4169e1;
      color: white;
      padding: 30px 0;
      text-align: center;
    }

    .hero h1 {
      font-size: 2.5rem;
      margin-bottom: 15px;
    }

    .hero p {
      font-size: 1.1rem;
      max-width: 800px;
      margin: 0 auto;
    }

    .builder {
      display: flex;
      flex-wrap: wrap;
      gap: 30px;
      padding: 20px;
    }

    .input-panel {
      width: 500px;
      background: #fff;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }

    .input-panel input,
    .input-panel textarea {
      width: 100%;
      margin-bottom: 10px;
      padding: 10px;
      font-size: 14px;
      border-radius: 6px;
      border: 1px solid #ccc;
    }

    .input-panel button {
      padding: 10px;
      margin: 5px 5px 0 0;
      background: #007bff;
      color: #fff;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }

    .input-panel button:hover {
      background: #0056b3;
    }

    .cv-container {
      display: flex;
      width: 900px;
      background: white;
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }

    .sidebar {
      background: #212121;
      color: white;
      padding: 20px;
      width: 35%;
    }

    .sidebar h2 {
      font-size: 22px;
      margin: 0;
    }

    .sidebar h4 {
      font-weight: normal;
      font-size: 14px;
      margin: 5px 0 20px;
    }

    .sidebar h3 {
      font-size: 14px;
      margin-bottom: 6px;
      text-transform: uppercase;
    }

    .sidebar p,
    .sidebar ul {
      font-size: 13px;
      margin: 4px 0;
    }

    .sidebar ul {
      padding-left: 20px;
    }

    .main {
      padding: 20px;
      width: 65%;
    }

    .main h3 {
      font-size: 16px;
      margin-bottom: 6px;
      border-bottom: 1px solid #ccc;
      padding-bottom: 4px;
    }

    .main p {
      font-size: 14px;
      line-height: 1.6;
      white-space: pre-line;
    }
  </style>
</head>
<body>
  <!-- Navigation -->
  <nav class="navbar">
    <div class="container">
      <div class="logo">Wiiser<span>+</span></div>
      <ul class="nav-links">
        <li><a href="newindex.html">Home</a></li>
        <li><a href="newindex.html#services">Services</a></li>
        <li><a href="index.html"><b>Back to WIISER</b></a></li>
      </ul>
    </div>
  </nav>

  <!-- Hero Section -->
  <section class="hero">
    <div class="container">
      <h1>CV-Builder</h1>
      <p>Our interactive resume builder creates a customized resume based on user inputs with real-time previews.</p>
    </div>
  </section>

  <section class="builder">
    <!-- Input Section -->
    <div class="input-panel">
      <h2>Fill Your Resume</h2>
      <input placeholder="Full Name" id="input-name">
      <input placeholder="Job Title" id="input-title">
      <input placeholder="Phone" id="input-phone">
      <input placeholder="Email" id="input-email">
      <input placeholder="Address" id="input-address">
      <input placeholder="Languages" id="input-languages">
      <textarea placeholder="Skills (comma separated)" id="input-skills"></textarea>
      <textarea placeholder="Profile Summary" id="input-profile"></textarea>

      <div id="edu-container">
        <textarea placeholder="Education Detail" class="edu-field"></textarea>
      </div>
      <button onclick="addEdu()">Add Education</button>

      <div id="exp-container">
        <textarea placeholder="Experience Detail" class="exp-field"></textarea>
      </div>
      <button onclick="addExp()">Add Experience</button>

      <br><br>
      <button onclick="updateCV()">Preview CV</button>
      <button onclick="downloadCV()">Download PDF</button>
      <button onclick="saveData()">Save Draft</button>
      <button onclick="loadData()">Load Draft</button>
    </div>

    <!-- CV Preview -->
    <div class="cv-container" id="cv">
      <div class="sidebar">
        <h2 id="name">Your Name</h2>
        <h4 id="job-title">Job Title</h4>
        <div class="section">
          <h3>Contact</h3>
          <p id="phone">Phone</p>
          <p id="email">Email</p>
          <p id="address">Address</p>
        </div>
        <div class="section">
          <h3>Skills</h3>
          <ul id="skills-list"></ul>
        </div>
        <div class="section">
          <h3>Languages</h3>
          <p id="languages">Language(s)</p>
        </div>
      </div>
      <div class="main">
        <div class="section">
          <h3>Profile</h3>
          <p id="profile">Your profile summary...</p>
        </div>
        <div class="section">
          <h3>Education</h3>
          <p id="education">Your education...</p>
        </div>
        <div class="section">
          <h3>Experience</h3>
          <p id="experience">Your work experience...</p>
        </div>
      </div>
    </div>
  </section>

  <script>
    function updateCV() {
      document.getElementById('name').innerText = document.getElementById('input-name').value;
      document.getElementById('job-title').innerText = document.getElementById('input-title').value;
      document.getElementById('phone').innerText = document.getElementById('input-phone').value;
      document.getElementById('email').innerText = document.getElementById('input-email').value;
      document.getElementById('address').innerText = document.getElementById('input-address').value;
      document.getElementById('languages').innerText = document.getElementById('input-languages').value;
      document.getElementById('profile').innerText = document.getElementById('input-profile').value;

      const skillsInput = document.getElementById('input-skills').value;
      const skillsArray = skillsInput.split(',').map(skill => skill.trim());
      const skillsList = document.getElementById('skills-list');
      skillsList.innerHTML = '';
      skillsArray.forEach(skill => {
        const li = document.createElement('li');
        li.textContent = skill;
        skillsList.appendChild(li);
      });

      const eduFields = document.querySelectorAll('.edu-field');
      document.getElementById('education').innerText = Array.from(eduFields).map(el => el.value).join('\n\n');

      const expFields = document.querySelectorAll('.exp-field');
      document.getElementById('experience').innerText = Array.from(expFields).map(el => el.value).join('\n\n');
    }

    function downloadCV() {
      const element = document.getElementById('cv');
      const opt = {
        margin: 0,
        filename: 'resume.pdf',
        image: { type: 'jpeg', quality: 0.98 },
        html2canvas: { scale: 2 },
        jsPDF: { unit: 'in', format: 'a4', orientation: 'portrait' }
      };
      html2pdf().set(opt).from(element).save();
    }

    function addEdu() {
      const container = document.getElementById('edu-container');
      const textarea = document.createElement('textarea');
      textarea.placeholder = 'Education Detail';
      textarea.className = 'edu-field';
      container.appendChild(textarea);
    }

    function addExp() {
      const container = document.getElementById('exp-container');
      const textarea = document.createElement('textarea');
      textarea.placeholder = 'Experience Detail';
      textarea.className = 'exp-field';
      container.appendChild(textarea);
    }

    function saveData() {
      const data = {
        name: document.getElementById('input-name').value,
        title: document.getElementById('input-title').value,
        phone: document.getElementById('input-phone').value,
        email: document.getElementById('input-email').value,
        address: document.getElementById('input-address').value,
        languages: document.getElementById('input-languages').value,
        skills: document.getElementById('input-skills').value,
        profile: document.getElementById('input-profile').value
      };
      localStorage.setItem('resumeData', JSON.stringify(data));
      alert("Draft saved!");
    }

    function loadData() {
      const data = JSON.parse(localStorage.getItem('resumeData'));
      if (data) {
        document.getElementById('input-name').value = data.name;
        document.getElementById('input-title').value = data.title;
        document.getElementById('input-phone').value = data.phone;
        document.getElementById('input-email').value = data.email;
        document.getElementById('input-address').value = data.address;
        document.getElementById('input-languages').value = data.languages;
        document.getElementById('input-skills').value = data.skills;
        document.getElementById('input-profile').value = data.profile;
        updateCV();
      }
    }
  </script>
</body>
</html>
